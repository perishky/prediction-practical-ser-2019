---
title: "Crash course introduction to prediction computation"
date: "`r format(Sys.time(), '%B %Y')`"
author: "Paul Yousefi, PhD, MPH"
output:
  html_document:
    css: style.css
    highlight: tango
  pdf_document: default
---

# Before we start

This lab will performed in R and will use the following packages

__Add downloads__


We'll be using data from tibshirani et al. that is publicly available on the gene expression ombibus (GEO) website

All course material, including the data and code used for this lab practical, is available for you to download here:

__url for where to download data__


# Goals 

* Writing code for 

* Partitioning data into training and testing sets
* Fitting models in training data
* Predicting outputs from those models in the testing data
* Quantifying model prediction performance


```{r, echo = FALSE, message = FALSE}
knitr::opts_chunk$set(
comment = ">",
error = FALSE,
tidy = FALSE,
echo = FALSE, 
warning = FALSE, 
message = FALSE, 
cache=F)
```
```{r call_source, echo}
path <- "."
read_chunk(file.path(path, "prediction-practical-2019-sourcecode.r"))
```
```{r globals, results="hide", message = FALSE, warning = FALSE}
```


# Getting started 

To start, I'll load our data into active memory and have a look at what's available:

```{r load, echo = T} 
```
```{r ls, eval = F, echo=T} 
```
> [1] "meth"    "samples"


So we have two data objects:

* `meth` with DNA methylation data

* `samples` with other phenotype information on the participants of this study


Let's get a better sense of the variables available in `samples`:
 
```{r qc1, eval = T, echo=T} 
```

##
```{r qc2} 
```

* Our current smoking variable has 3 categories, but we want to work with a binary outcome 

* Let's do that by collapsing the __former__ and __current__ subjects into a single category of ever smokers


## 

Let's add an never/ever smoking variable to our `samples` data frame:

```{r never.smoke, echo=T}
```

* When I talk about predicting smoking going from now on I'll be referring to this variable 

